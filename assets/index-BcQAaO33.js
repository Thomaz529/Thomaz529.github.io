import{C as h}from"./CesiumEarth-DSJv-lZu.js";import{E as w}from"./index-hnr1oFTy.js";import{_ as k,c as v,a as e,b as E,w as a,F as S,r as n,o as x,d as l,E as c}from"./index-Do2SFHFE.js";const y={class:"toolPane"},L={__name:"index",setup(j){function f(o){const t=URL.createObjectURL(o.raw);viewer.dataSources.add(Cesium.GeoJsonDataSource.load(t,{clampToGround:!0,stroke:Cesium.Color.RED,fill:Cesium.Color.PINK,strokeWidth:2,markerSymbol:"?",markerSize:10,markerColor:Cesium.Color.RED}))}function p(o){const t=URL.createObjectURL(o.raw);viewer.dataSources.add(Cesium.KmlDataSource.load(t,{camera:viewer.scene.camera,canvas:viewer.scene.canvas}))}function i(o){const t=o.name.substring(o.name.lastIndexOf(".")+1);if(["json","kml"].indexOf(t)===-1)return c("上传文件只能是JSON文件或KML文件"),!1;if(!(o.size/1024/1024<2))return c("上传文件大小不能超过2MB"),!1}function m(o){c({message:"上传成功",type:"success"})}function d(o){c.error("上传失败")}function _(){new h().createTopojson()}function b(){viewer.dataSources.removeAll()}return(o,t)=>{const s=n("el-button"),u=n("el-upload"),r=n("el-form-item"),C=n("el-form");return x(),v(S,null,[e(w),E("div",y,[e(C,{inline:!0},{default:a(()=>[e(r,null,{default:a(()=>[e(u,{action:"",limit:1,"on-change":f,"auto-upload":!1,"before-upload":i,"on-success":m,"on-error":d,"show-file-list":!1,accept:".json"},{default:a(()=>[e(s,{type:"primary"},{default:a(()=>[l("Json数据")]),_:1})]),_:1})]),_:1}),e(r,null,{default:a(()=>[e(u,{action:"",limit:1,"on-change":p,"auto-upload":!1,"before-upload":i,"on-success":m,"on-error":d,"show-file-list":!1,accept:".kml"},{default:a(()=>[e(s,{type:"primary"},{default:a(()=>[l("kml数据")]),_:1})]),_:1})]),_:1}),e(r,null,{default:a(()=>[e(s,{type:"primary",onClick:_},{default:a(()=>[l("Topojson数据")]),_:1})]),_:1}),e(r,null,{default:a(()=>[e(s,{type:"primary",onClick:b},{default:a(()=>[l("清除")]),_:1})]),_:1})]),_:1})])],64)}}},O=k(L,[["__scopeId","data-v-5ab4643d"]]);export{O as default};
