import{E as k}from"./index-hnr1oFTy.js";import{_ as I,h as L,c as x,a as d,b as m,w as _,F as j,E as U,r as v,o as w,k as y,d as h,p as C,e as E}from"./index-Do2SFHFE.js";import"./CesiumEarth-DSJv-lZu.js";var b=3.141592653589793*3e3/180,u=3.141592653589793,M=6378245,V=.006693421622965943;class q{bd09togcj02(t,e){var a=t-.0065,i=e-.006,r=Math.sqrt(a*a+i*i)-2e-5*Math.sin(i*b),o=Math.atan2(i,a)-3e-6*Math.cos(a*b),n=r*Math.cos(o),s=r*Math.sin(o);return[n,s]}gcj02tobd09(t,e){var a=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*b),i=Math.atan2(e,t)+3e-6*Math.cos(t*b),r=a*Math.cos(i)+.0065,o=a*Math.sin(i)+.006;return[r,o]}wgs84togcj02(t,e){if(this.out_of_china(t,e))return[t,e];var a=this.transformlat(t-105,e-35),i=this.transformlng(t-105,e-35),r=e/180*u,o=Math.sin(r);o=1-V*o*o;var n=Math.sqrt(o);a=a*180/(M*(1-V)/(o*n)*u),i=i*180/(M/n*Math.cos(r)*u);var s=e+a,c=t+i;return[c,s]}gcj02towgs84(t,e){if(this.out_of_china(t,e))return[t,e];{var a=this.transformlat(t-105,e-35),i=this.transformlng(t-105,e-35),r=e/180*u,o=Math.sin(r);o=1-V*o*o;var n=Math.sqrt(o);a=a*180/(M*(1-V)/(o*n)*u),i=i*180/(M/n*Math.cos(r)*u);const s=e+a,c=t+i;return[t*2-c,e*2-s]}}transformlat(t,e){var a=-100+2*t+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return a+=(20*Math.sin(6*t*u)+20*Math.sin(2*t*u))*2/3,a+=(20*Math.sin(e*u)+40*Math.sin(e/3*u))*2/3,a+=(160*Math.sin(e/12*u)+320*Math.sin(e*u/30))*2/3,a}transformlng(t,e){var a=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return a+=(20*Math.sin(6*t*u)+20*Math.sin(2*t*u))*2/3,a+=(20*Math.sin(t*u)+40*Math.sin(t/3*u))*2/3,a+=(150*Math.sin(t/12*u)+300*Math.sin(t/30*u))*2/3,a}out_of_china(t,e){return t<72.004||t>137.8347||e<.8293||e>55.8271||!1}}const N=p=>(C("data-v-8b143885"),p=p(),E(),p),S={class:"toolButton"},T={class:"toolTop"},z={class:"toolLeft"},F=N(()=>m("div",{class:"coordName"},"原始坐标",-1)),G={class:"toolRight"},P=N(()=>m("div",{class:"coordName"},"转换坐标",-1)),A={class:"toolBottom"},D={__name:"index",setup(p){const t=L({select:"",longitude:"",latitude:""}),e=L({select:"",longitude:"",latitude:""}),a=[{value:"1",label:"WGS84"},{value:"2",label:"百度坐标系(BD-09)"},{value:"3",label:"火星坐标系(GCJ-02)"}];function i(){const r=Number(t.longitude),o=Number(t.latitude),n=new q;if(t.select==="2"&&e.select==="3"){const s=n.bd09togcj02(r,o);e.longitude=s[0],e.latitude=s[1]}else if(t.select==="3"&&e.select==="2"){const s=n.gcj02tobd09(r,o);e.longitude=s[0],e.latitude=s[1]}else if(t.select==="1"&&e.select==="3"){const s=n.wgs84togcj02(r,o);e.longitude=s[0],e.latitude=s[1]}else if(t.select==="3"&&e.select==="1"){const s=n.gcj02towgs84(r,o);e.longitude=s[0],e.latitude=s[1]}else if(t.select==="2"&&e.select==="1"){const s=n.bd09togcj02(r,o),c=n.gcj02towgs84(s[0],s[1]);e.longitude=c[0],e.latitude=c[1]}else if(t.select==="1"&&e.select==="2"){const s=n.wgs84togcj02(r,o),c=n.gcj02tobd09(s[0],s[1]);e.longitude=c[0],e.latitude=c[1]}else e.longitude=r,e.latitude=o,U({message:"请正确选择转换坐标系！",type:"warning"})}return(r,o)=>{const n=v("el-option"),s=v("el-select"),c=v("el-form-item"),f=v("el-input"),g=v("el-form"),B=v("el-button");return w(),x(j,null,[d(k),m("div",S,[m("div",T,[m("div",z,[F,d(g,{ref:"form",model:t,"label-width":"40px"},{default:_(()=>[d(c,{label:"坐标"},{default:_(()=>[d(s,{modelValue:t.select,"onUpdate:modelValue":o[0]||(o[0]=l=>t.select=l),placeholder:"请选择坐标系"},{default:_(()=>[(w(),x(j,null,y(a,l=>d(n,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),d(c,{label:"经度"},{default:_(()=>[d(f,{modelValue:t.longitude,"onUpdate:modelValue":o[1]||(o[1]=l=>t.longitude=l),min:"0",max:"180"},{append:_(()=>[h("°")]),_:1},8,["modelValue"])]),_:1}),d(c,{label:"纬度"},{default:_(()=>[d(f,{modelValue:t.latitude,"onUpdate:modelValue":o[2]||(o[2]=l=>t.latitude=l),min:"0",max:"90"},{append:_(()=>[h("°")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),m("div",G,[P,d(g,{ref:"form",model:e,"label-width":"40px"},{default:_(()=>[d(c,{label:"坐标"},{default:_(()=>[d(s,{modelValue:e.select,"onUpdate:modelValue":o[3]||(o[3]=l=>e.select=l),placeholder:"请选择坐标系"},{default:_(()=>[(w(),x(j,null,y(a,l=>d(n,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),d(c,{label:"经度"},{default:_(()=>[d(f,{modelValue:e.longitude,"onUpdate:modelValue":o[4]||(o[4]=l=>e.longitude=l),min:"0",max:"180",readonly:!0},{append:_(()=>[h("°")]),_:1},8,["modelValue"])]),_:1}),d(c,{label:"纬度"},{default:_(()=>[d(f,{modelValue:e.latitude,"onUpdate:modelValue":o[5]||(o[5]=l=>e.latitude=l),min:"0",max:"90",readonly:!0},{append:_(()=>[h("°")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),m("div",A,[d(B,{type:"primary",onClick:o[6]||(o[6]=l=>i())},{default:_(()=>[h("转换")]),_:1})])])],64)}}},$=I(D,[["__scopeId","data-v-8b143885"]]);export{$ as default};
