import{E as T}from"./index-DQKEvUsp.js";import{C as w}from"./CesiumEarth-D0reHEmA.js";import{_ as E,c as b,a as o,b as k,w as u,F as I,r as R,o as z,d as m}from"./index-DQxC938F.js";class d{constructor(t={}){this._definitionChanged=new Cesium.Event,this._color=void 0,this.color=t.color||"lightblue"}get isConstant(){return!1}get definitionChanged(){return this._definitionChanged}getType(){return Cesium.Material.WallDiffuseMaterialType}getValue(t,r){return Cesium.defined(r)||(r={}),r.color=Cesium.Property.getValueOrDefault(this._color,t,Cesium.Color.RED,r.color),r}equals(t){return this===t||t instanceof d&&Cesium.Property.equals(this._color,t._color)}}Object.defineProperties(d.prototype,{color:Cesium.createPropertyDescriptor("color")});Cesium.Material.WallDiffuseMaterialProperty="WallDiffuseMaterialProperty";Cesium.Material.WallDiffuseMaterialType="WallDiffuseMaterialType";Cesium.Material.WallDiffuseMaterialSource=`
  uniform vec4 color;
  czm_material czm_getMaterial(czm_materialInput materialInput){
  czm_material material = czm_getDefaultMaterial(materialInput);
  vec2 st = materialInput.st;
  material.diffuse = color.rgb * 2.0;
  material.alpha = color.a * (1.0-fract(st.t)) * 0.8;
  return material;
  }                                         
  `;Cesium.Material._materialCache.addMaterial(Cesium.Material.WallDiffuseMaterialType,{fabric:{type:Cesium.Material.WallDiffuseMaterialType,uniforms:{color:new Cesium.Color(1,0,0,1)},source:Cesium.Material.WallDiffuseMaterialSource},translucent(){return!0}});function B(s){const t=s.viewer,r=s.center,f=s.radius||1e3,l=s.edge||64,e=s.speed||5,a=s.height||100;let i=a;const g=s.minRadius||10;let c=g;if(l<3)return!1;function D(n,y,M,W){const p=[],v=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(n[0],n[1],800));for(let C=0;C<y;C++){const _=C/y*Cesium.Math.TWO_PI,h=Math.cos(_),x=Math.sin(_),P=new Cesium.Cartesian3(h*M,x*M,W);p.push(Cesium.Matrix4.multiplyByPoint(v,P,new Cesium.Cartesian3))}return p.push(p[0]),p}t.entities.add({wall:{positions:new Cesium.CallbackProperty(()=>{let n=[];return c+=f*e/1e3,i-=a*e/1e3,(c>f||i<0)&&(c=g,i=a),n=D(r,l,c,i),n},!1),material:new d({color:new Cesium.Color(1,1,0,1)})}})}const V={class:"toolButton"},$={__name:"index",setup(s){const t=()=>{const l=new w;let e=[[[-107,43],[-97,43],[-97,40],[-107,40],[-107,43]]];l.diffuseWall(e,2,1e5)},r=l=>{new w().createWallCorrugations(l)},f=()=>{B({viewer,center:[108,34],radius:4e4,edge:50,height:2e3,speed:15,minRidus:100})};return(l,e)=>{const a=R("el-button");return z(),b(I,null,[o(T),k("div",V,[o(a,{type:"primary",onClick:e[0]||(e[0]=i=>t())},{default:u(()=>e[5]||(e[5]=[m("扩散墙")])),_:1}),o(a,{type:"primary",onClick:e[1]||(e[1]=i=>f())},{default:u(()=>e[6]||(e[6]=[m("圆形扩散墙")])),_:1}),o(a,{type:"primary",onClick:e[2]||(e[2]=i=>r("fade"))},{default:u(()=>e[7]||(e[7]=[m("扩散立体墙")])),_:1}),o(a,{type:"primary",onClick:e[3]||(e[3]=i=>r("image"))},{default:u(()=>e[8]||(e[8]=[m("扩散图片墙")])),_:1}),o(a,{type:"primary",onClick:e[4]||(e[4]=i=>r("fence"))},{default:u(()=>e[9]||(e[9]=[m("电子围栏")])),_:1})])],64)}}},q=E($,[["__scopeId","data-v-9370cfaf"]]);export{q as default};
