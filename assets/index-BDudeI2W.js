import{C as f}from"./CesiumEarth-D0reHEmA.js";import{E as y}from"./index-DQKEvUsp.js";import{_ as E,c as v,a as o,b as S,w as t,F as x,r as l,o as L,d as s,E as u}from"./index-DQxC938F.js";const M={class:"toolPane"},j={__name:"index",setup(g){function p(a){const e=URL.createObjectURL(a.raw);viewer.dataSources.add(Cesium.GeoJsonDataSource.load(e,{clampToGround:!0,stroke:Cesium.Color.RED,fill:Cesium.Color.PINK,strokeWidth:2,markerSymbol:"?",markerSize:10,markerColor:Cesium.Color.RED}))}function _(a){const e=URL.createObjectURL(a.raw);viewer.dataSources.add(Cesium.KmlDataSource.load(e,{camera:viewer.scene.camera,canvas:viewer.scene.canvas}))}function c(a){const e=a.name.substring(a.name.lastIndexOf(".")+1);if(["json","kml"].indexOf(e)===-1)return u("上传文件只能是JSON文件或KML文件"),!1;if(!(a.size/1024/1024<2))return u("上传文件大小不能超过2MB"),!1}function d(a){u({message:"上传成功",type:"success"})}function m(a){u.error("上传失败")}function C(){new f().createTopojson()}function k(){viewer.dataSources.removeAll()}function w(){new f().mapBoundaryMask()}return(a,e)=>{const n=l("el-button"),i=l("el-upload"),r=l("el-form-item"),b=l("el-form");return L(),v(x,null,[o(y),S("div",M,[o(b,{inline:!0},{default:t(()=>[o(r,null,{default:t(()=>[o(i,{action:"",limit:1,"on-change":p,"auto-upload":!1,"before-upload":c,"on-success":d,"on-error":m,"show-file-list":!1,accept:".json"},{default:t(()=>[o(n,{type:"primary"},{default:t(()=>e[0]||(e[0]=[s("Json数据")])),_:1})]),_:1})]),_:1}),o(r,null,{default:t(()=>[o(i,{action:"",limit:1,"on-change":_,"auto-upload":!1,"before-upload":c,"on-success":d,"on-error":m,"show-file-list":!1,accept:".kml"},{default:t(()=>[o(n,{type:"primary"},{default:t(()=>e[1]||(e[1]=[s("kml数据")])),_:1})]),_:1})]),_:1}),o(r,null,{default:t(()=>[o(n,{type:"primary",onClick:C},{default:t(()=>e[2]||(e[2]=[s("Topojson数据")])),_:1})]),_:1}),o(r,null,{default:t(()=>[o(n,{type:"primary",onClick:w},{default:t(()=>e[3]||(e[3]=[s("边界掩膜")])),_:1})]),_:1}),o(r,null,{default:t(()=>[o(n,{type:"primary",onClick:k},{default:t(()=>e[4]||(e[4]=[s("清除")])),_:1})]),_:1})]),_:1})])],64)}}},O=E(j,[["__scopeId","data-v-f95fa740"]]);export{O as default};
