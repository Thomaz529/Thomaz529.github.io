import{E as B}from"./index-DQKEvUsp.js";import{_ as k,g as w,c as V,a as d,b as v,w as c,F as x,E as U,r as f,o as j,k as L,d as p}from"./index-DQxC938F.js";import"./CesiumEarth-D0reHEmA.js";var M=3.141592653589793*3e3/180,u=3.141592653589793,b=6378245,h=.006693421622965943;class C{bd09togcj02(t,e){var s=t-.0065,i=e-.006,r=Math.sqrt(s*s+i*i)-2e-5*Math.sin(i*M),o=Math.atan2(i,s)-3e-6*Math.cos(s*M),n=r*Math.cos(o),l=r*Math.sin(o);return[n,l]}gcj02tobd09(t,e){var s=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*M),i=Math.atan2(e,t)+3e-6*Math.cos(t*M),r=s*Math.cos(i)+.0065,o=s*Math.sin(i)+.006;return[r,o]}wgs84togcj02(t,e){if(this.out_of_china(t,e))return[t,e];var s=this.transformlat(t-105,e-35),i=this.transformlng(t-105,e-35),r=e/180*u,o=Math.sin(r);o=1-h*o*o;var n=Math.sqrt(o);s=s*180/(b*(1-h)/(o*n)*u),i=i*180/(b/n*Math.cos(r)*u);var l=e+s,m=t+i;return[m,l]}gcj02towgs84(t,e){if(this.out_of_china(t,e))return[t,e];{var s=this.transformlat(t-105,e-35),i=this.transformlng(t-105,e-35),r=e/180*u,o=Math.sin(r);o=1-h*o*o;var n=Math.sqrt(o);s=s*180/(b*(1-h)/(o*n)*u),i=i*180/(b/n*Math.cos(r)*u);const l=e+s,m=t+i;return[t*2-m,e*2-l]}}transformlat(t,e){var s=-100+2*t+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return s+=(20*Math.sin(6*t*u)+20*Math.sin(2*t*u))*2/3,s+=(20*Math.sin(e*u)+40*Math.sin(e/3*u))*2/3,s+=(160*Math.sin(e/12*u)+320*Math.sin(e*u/30))*2/3,s}transformlng(t,e){var s=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return s+=(20*Math.sin(6*t*u)+20*Math.sin(2*t*u))*2/3,s+=(20*Math.sin(t*u)+40*Math.sin(t/3*u))*2/3,s+=(150*Math.sin(t/12*u)+300*Math.sin(t/30*u))*2/3,s}out_of_china(t,e){return t<72.004||t>137.8347||e<.8293||e>55.8271||!1}}const E={class:"toolButton"},q={class:"toolTop"},T={class:"toolLeft"},I={class:"toolRight"},z={class:"toolBottom"},F={__name:"index",setup(y){const t=w({select:"",longitude:"",latitude:""}),e=w({select:"",longitude:"",latitude:""}),s=[{value:"1",label:"WGS84"},{value:"2",label:"百度坐标系(BD-09)"},{value:"3",label:"火星坐标系(GCJ-02)"}];function i(){const r=Number(t.longitude),o=Number(t.latitude),n=new C;if(t.select==="2"&&e.select==="3"){const l=n.bd09togcj02(r,o);e.longitude=l[0],e.latitude=l[1]}else if(t.select==="3"&&e.select==="2"){const l=n.gcj02tobd09(r,o);e.longitude=l[0],e.latitude=l[1]}else if(t.select==="1"&&e.select==="3"){const l=n.wgs84togcj02(r,o);e.longitude=l[0],e.latitude=l[1]}else if(t.select==="3"&&e.select==="1"){const l=n.gcj02towgs84(r,o);e.longitude=l[0],e.latitude=l[1]}else if(t.select==="2"&&e.select==="1"){const l=n.bd09togcj02(r,o),m=n.gcj02towgs84(l[0],l[1]);e.longitude=m[0],e.latitude=m[1]}else if(t.select==="1"&&e.select==="2"){const l=n.wgs84togcj02(r,o),m=n.gcj02tobd09(l[0],l[1]);e.longitude=m[0],e.latitude=m[1]}else e.longitude=r,e.latitude=o,U({message:"请正确选择转换坐标系！",type:"warning"})}return(r,o)=>{const n=f("el-option"),l=f("el-select"),m=f("el-form-item"),_=f("el-input"),g=f("el-form"),N=f("el-button");return j(),V(x,null,[d(B),v("div",E,[v("div",q,[v("div",T,[o[9]||(o[9]=v("div",{class:"coordName"},"原始坐标",-1)),d(g,{ref:"form",model:t,"label-width":"40px"},{default:c(()=>[d(m,{label:"坐标"},{default:c(()=>[d(l,{modelValue:t.select,"onUpdate:modelValue":o[0]||(o[0]=a=>t.select=a),placeholder:"请选择坐标系"},{default:c(()=>[(j(),V(x,null,L(s,a=>d(n,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),d(m,{label:"经度"},{default:c(()=>[d(_,{modelValue:t.longitude,"onUpdate:modelValue":o[1]||(o[1]=a=>t.longitude=a),min:"0",max:"180"},{append:c(()=>o[7]||(o[7]=[p("°")])),_:1},8,["modelValue"])]),_:1}),d(m,{label:"纬度"},{default:c(()=>[d(_,{modelValue:t.latitude,"onUpdate:modelValue":o[2]||(o[2]=a=>t.latitude=a),min:"0",max:"90"},{append:c(()=>o[8]||(o[8]=[p("°")])),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),v("div",I,[o[12]||(o[12]=v("div",{class:"coordName"},"转换坐标",-1)),d(g,{ref:"form",model:e,"label-width":"40px"},{default:c(()=>[d(m,{label:"坐标"},{default:c(()=>[d(l,{modelValue:e.select,"onUpdate:modelValue":o[3]||(o[3]=a=>e.select=a),placeholder:"请选择坐标系"},{default:c(()=>[(j(),V(x,null,L(s,a=>d(n,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),d(m,{label:"经度"},{default:c(()=>[d(_,{modelValue:e.longitude,"onUpdate:modelValue":o[4]||(o[4]=a=>e.longitude=a),min:"0",max:"180",readonly:!0},{append:c(()=>o[10]||(o[10]=[p("°")])),_:1},8,["modelValue"])]),_:1}),d(m,{label:"纬度"},{default:c(()=>[d(_,{modelValue:e.latitude,"onUpdate:modelValue":o[5]||(o[5]=a=>e.latitude=a),min:"0",max:"90",readonly:!0},{append:c(()=>o[11]||(o[11]=[p("°")])),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),v("div",z,[d(N,{type:"primary",onClick:o[6]||(o[6]=a=>i())},{default:c(()=>o[13]||(o[13]=[p("转换")])),_:1})])])],64)}}},D=k(F,[["__scopeId","data-v-8b143885"]]);export{D as default};
