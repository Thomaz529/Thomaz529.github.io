import{E as G}from"./index-hnr1oFTy.js";import{C as Z}from"./CesiumEarth-DSJv-lZu.js";import{_ as j,c as q,a as r,b as k,w as _,F as Y,r as T,o as H,d as g}from"./index-Do2SFHFE.js";function J(){const d=viewer.scene;d.debugShowFramesPerSecond=!0,Cesium.Math.setRandomNumberSeed(315);const o=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(-75.59777,40.03883)),m=new Cesium.Cartesian3(0,0,100);let i;function f(){if(!Cesium.defined(i)){i=document.createElement("canvas"),i.width=20,i.height=20;const e=i.getContext("2d");e.beginPath(),e.arc(8,8,8,0,Cesium.Math.TWO_PI,!0),e.closePath(),e.fillStyle="rgb(255, 255, 255)",e.fill()}return i}const t=30,n=100,p=new Cesium.Cartesian2(7,7),a=400,b=10,B=20,P=new Cesium.Matrix4;function z(e,c,h){const w=Cesium.Cartesian3.add(m,e,new Cesium.Cartesian3),u=Cesium.Matrix4.fromTranslation(w,P),l=Cesium.Matrix4.multiply(o,u,new Cesium.Matrix4),C=Cesium.Matrix4.inverseTransformation(l,l),s=Cesium.Math.randomBetween(t,n),A=new Cesium.Cartesian3,V=function(S){const $=Cesium.Matrix4.multiplyByPoint(C,S.position,A);Cesium.Cartesian3.magnitudeSquared($)>=s*s&&Cesium.Cartesian3.clone(Cesium.Cartesian3.ZERO,S.velocity)},D=(s-t)/(n-t),E=.3,U=D*(1-E)+E;d.primitives.add(new Cesium.ParticleSystem({image:f(),startColor:c,endColor:c.withAlpha(0),particleLife:U,speed:100,imageSize:p,emissionRate:0,emitter:new Cesium.SphereEmitter(.1),bursts:h,lifetime:b,updateCallback:V,modelMatrix:o,emitterModelMatrix:u}))}const F=-100,I=100,N=-80,R=100,O=-50,L=50,v=[{minimumRed:.75,green:0,minimumBlue:.8,alpha:1},{red:0,minimumGreen:.75,minimumBlue:.8,alpha:1},{red:0,green:0,minimumBlue:.8,alpha:1},{minimumRed:.75,minimumGreen:.75,blue:0,alpha:1}];for(let e=0;e<B;++e){const c=Cesium.Math.randomBetween(F,I),h=Cesium.Math.randomBetween(N,R),w=Cesium.Math.randomBetween(O,L),u=new Cesium.Cartesian3(c,h,w),l=Cesium.Color.fromRandom(v[e%v.length]),C=[];for(let s=0;s<3;++s)C.push(new Cesium.ParticleBurst({time:Cesium.Math.nextRandomNumber()*b,minimum:a,maximum:a}));z(u,l,C)}const x=viewer.scene.camera,y=new Cesium.Cartesian3(-300,0,0);x.lookAtTransform(o,y),x.lookAtTransform(Cesium.Matrix4.IDENTITY);const M=Cesium.Cartesian3.subtract(m,y,new Cesium.Cartesian3);Cesium.Cartesian3.normalize(M,M);const W=Cesium.Math.PI_OVER_TWO-Math.acos(Cesium.Cartesian3.dot(M,Cesium.Cartesian3.UNIT_Z));x.lookUp(W)}const K={class:"toolButton"},Q={class:"popup"},X={__name:"index",setup(d){const o=()=>{J()},m=()=>{viewer.scene.postProcessStages.removeAll()},i=()=>{new Z().createFireEffect()};return(f,t)=>{const n=T("el-button"),p=T("config");return H(),q(Y,null,[r(G),k("div",K,[r(n,{type:"primary",onClick:t[0]||(t[0]=a=>o())},{default:_(()=>[g("烟花")]),_:1}),r(n,{type:"primary",onClick:t[1]||(t[1]=a=>i())},{default:_(()=>[g("火焰")]),_:1}),r(n,{type:"primary",onClick:t[2]||(t[2]=a=>m())},{default:_(()=>[g("清除")]),_:1})]),k("div",Q,[r(p)])],64)}}},se=j(X,[["__scopeId","data-v-ae9b1218"]]);export{se as default};
